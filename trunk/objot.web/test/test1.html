<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<style>
.whole {
	width:100%; height:100%;
	left:0; top:0;
	border:0;
}
.posAb{
	position:absolute;
}
</style>
<script src=../objot2.js></script>

<body>
<div id=div style="float:left">
<button onclick="demoE.call(this,event)">enc</button><br>
<button onclick="demoH.call(this,event)">http</button><br>
<button onclick="demoD.call(this,event)">dec</button><br>
<button onclick="demoV.call(this,event)">eval</button><br>
</div>
<input id=url type=text size=60><br>
<textarea id=text rows=40 cols=50></textarea>
</body>
<script>

window.onerror = function(m,f,l){
	return alert(m + '\n' + $.throwStack(f, l)), true;
}

window.div = $id('div');
window.url = $id('url');
window.text = $id('text');
url.value = location.protocol + '//' + location.host + '/';

function demoE(){
	x.a2 = text.value;
	E = $enc(z, demoE);
	text.value = E;
}
function demoH(){
	$http(url.value, 0, text.value, function (code, data) {
		$D.title = code + ' ' + data.length;
		text.value = U = data;
	});
}
function demoD(){
	D = $dec(E);
	EE = $enc(D, demoD);
	if (EE != E)
		$throw('error');
}
function demoV(event){
	eval(text.value);
}

function A(x) {
}
function B() {
	this.bb = 'bb';
}
function C() {
}

$class(false, 'A');
$class(false, 'B', A);
A.prototype.aa = 'aa';
$class.enc(B, demoE, ['a1'], Object, null);

$class(false, 'C', B);
C.prototype.c = 'c';
x = new A();
y = new B();
z = new C();
y.a1 = '\tasdasdf';
y.a2 = true;
y.a3 = 34e-5;
y.a4 = null;
y.a5 = undefined;
y.a6 = [y, y.a1, y.a2, y.a3, y.a4, y.a5];
y.a6[6] = y.a6;
y.a7 = { x:x, xx:y.a6[0] };
y.a8 = y.a2;
z = [
y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,
y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,
y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,
y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,
y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,
y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,
y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,
y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,
y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,
y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y];

</script>
</html>
